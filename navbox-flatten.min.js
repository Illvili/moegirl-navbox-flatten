;!function(){$(function(){function t(e){e=$(e);var l={collapsible:!1,open:!0};if(e.is("table")){l.collapsible=e.is(".mw-collapsible"),l.open=e.is(".autocollapse")||e.is(".mw-uncollapsed");var o=e.find(">tbody>tr>.navbox-title");if(o.length)if(o.find(">.mw-collapsible-toggle").length){var n=o.find(">span:not(.mw-collapsible-toggle)"),i=n.children();l.title=!i.find("small").length&&i.is("div")&&"text-align:center; line-height:10pt"==i.attr("style")?i.html():n.html()}else l.title=o;var a=[];e.find(">tbody>tr").filter(function(){return!$(this).find(">.navbox-title").length&&"2px"!=$(this).css("height")}).each(function(){a.push(t(this))}),l.subgroup=a}else if(e.is("tr")){var o=e.find(">.navbox-group");if(o.length){var s=o.attr("style");if("string"==typeof s){var r=s.indexOf(";;");-1!=r&&(s=s.substring(r+2)),s&&(l.titleStyle=s)}var p=o.children();l.title=p.is("div")&&"padding:0em 0.75em;"==p.attr("style")?p.html():o.html()}var o=e.find(">.navbox-list");if(o.length)if(o.find(">.navbox-subgroup").length){var c=t(o.find(".navbox-subgroup"));l.subgroup=c.title?[c]:c.subgroup}else{var s=o.attr("style");if("string"==typeof s){var r=s.indexOf(";;");-1!=r&&(s=s.substring(r+2)),s&&(l.contentStyle=s)}l.content=o.html()}var o=e.find(">.navbox-abovebelow");o.length&&(l.title=o.html())}return l}function e(e){e=$(e);var l={subgroup:t(e.find(">tbody>tr>td>.mw-collapsible"))};return l}function l(t,e){if(e.collapsible&&(t.addClass(i+"collapsible"),e.open&&t.addClass(i+"open")),e.title){var o=$('<div class="'+i+'title" />');o.html(e.title),t.append(o),e.titleStyle&&o.attr("style",e.titleStyle),e.collapsible&&o.append('<div class="'+i+'toggle"><span class="'+i+'status-close">[展开]</span><span class="'+i+'status-open">[折叠]</span></div>')}if(e.content||e.subgroup){var n=$('<div class="'+i+'content" />');if(t.append(n),e.content)e.contentStyle&&n.attr("style",e.contentStyle),n.html(e.content);else{var a=$('<div class="'+i+'subgroup" />').appendTo(n);$.each(e.subgroup,function(){l(a,this)})}}}function o(t){var e=$('<div class="'+i+'wrapper" />'),o=$('<div class="'+i+'subgroup" />');return e.append(o),l(o,t.subgroup),e}function n(t){$(t).each(function(){var t=$(this),l=e(t),n=o(l);n.bind("click",function(t){var e=$(t.target);e.parent().hasClass(i+"toggle")&&(e.closest("."+i+"collapsible").toggleClass(i+"open"),t.stopPropagation())}),t.after(n).hide()})}var i="moegirl-flatten-navbox-";n(".navbox"),$("body").append("<style>._wrapper{position:relative;margin-top:10px;line-height:1.7;border:1px solid #aaa;padding:3px;clear:both}._subgroup{border:0 solid #e6e6ff;border-left-width:3px}._title{font-weight:700;background:#e6e6ff;margin-bottom:2px;padding-left:1em}._content{padding-left:1em;margin-bottom:2px}._content:last-child{margin-bottom:0}._wrapper>._subgroup{border-color:#ccf;border-width:0 3px 3px}._wrapper>._subgroup>._title{background:#ccf}._wrapper>._subgroup>._content>._subgroup{border-color:#ddf}._wrapper>._subgroup>._content>._subgroup>._title{background:#ddf}._collapsible>._title{position:relative}._collapsible>._content{display:none}._open>._content{display:block}._collapsible>._title{padding-left:3em;margin-bottom:0;min-height:20px}._open>._title{margin-bottom:2px}._toggle{position:absolute;left:0;top:0;bottom:0;font-family:monospace;color:#ba0000;font-size:90%;width:3.5em}._toggle>span{position:absolute;left:0;right:0;top:50%;text-align:center;transform:translateY(-50%)}._collapsible>._title>._toggle>._status-open{display:none}._collapsible>._title>._toggle>._status-close,._open>._title>._toggle>._status-open{display:inline}._open>._title>._toggle>._status-close{display:none}</style>".replace(/_/g,i))})}();